(self.webpackChunkapp_rick_and_morty=self.webpackChunkapp_rick_and_morty||[]).push([[219],{219:(t,e,i)=>{"use strict";i.r(e),i.d(e,{CharacterModule:()=>rt});var n=i(583),r=i(528),o=i(639);let s=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-header"]],decls:5,vars:0,consts:[[1,"text-center"],["routerLink","/all","src","assets/img/rick_morty2.png","title","Rick and Morty Characters",1,"back"],["routerLink","/all",1,"title"]],template:function(t,e){1&t&&(o.TgZ(0,"div",0),o._UZ(1,"img",1),o.qZA(),o.TgZ(2,"div",0),o.TgZ(3,"p",2),o._uU(4,"Todos los personjes de Rick y Morty"),o.qZA(),o.qZA())},directives:[r.rH],styles:[".back[_ngcontent-%COMP%]{margin-top:60px;margin-bottom:50px;width:70%;cursor:pointer}.title[_ngcontent-%COMP%]{font-family:Creepster;color:#12b0c9!important;text-shadow:-1px -1px 0 #fcfcfc;font-size:40px}"]}),t})(),l=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-list"]],decls:1,vars:0,template:function(t,e){1&t&&o._UZ(0,"app-header")},directives:[s],styles:[""]}),t})();function c(t,e,i,n,r,o,s){try{var l=t[o](s),c=l.value}catch(a){return void i(a)}l.done?e(c):Promise.resolve(c).then(n,r)}function a(t){return function(){var e=this,i=arguments;return new Promise(function(n,r){var o=t.apply(e,i);function s(t){c(o,n,r,s,l,"next",t)}function l(t){c(o,n,r,s,l,"throw",t)}s(void 0)})}}var u=i(340),h=i(841);let d=(()=>{class t{constructor(t){this.http=t,this.uri=u.N.API_URL}getCharacters(t){return this.http.get(`${this.uri}/character?page=${t}`)}getCharacter(t){return this.http.get(`${this.uri}/character/${t}`)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(h.eN))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var p=i(917),f=i(574),g=i(796),m=i(105),w=i(2);function y(t,e,i,n){return(0,m.m)(i)&&(n=i,i=void 0),n?y(t,e,i).pipe((0,w.U)(t=>(0,g.k)(t)?n(...t):n(t))):new f.y(n=>{S(t,e,function(t){n.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},n,i)})}function S(t,e,i,n,r){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const n=t;t.addEventListener(e,i,r),o=()=>n.removeEventListener(e,i,r)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const n=t;t.on(e,i),o=()=>n.off(e,i)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const n=t;t.addListener(e,i),o=()=>n.removeListener(e,i)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let o=0,s=t.length;o<s;o++)S(t[o],e,i,n,r)}n.add(o)}var T=i(773),v=i(342),x=i(435),b=i(393),Z=i(319);class C extends Z.w{constructor(t,e){super()}schedule(t,e=0){return this}}let _=(()=>{class t{constructor(e,i=t.now){this.SchedulerAction=e,this.now=i}schedule(t,e=0,i){return new this.SchedulerAction(this,t).schedule(i,e)}}return t.now=()=>Date.now(),t})();class A extends _{constructor(t,e=_.now){super(t,()=>A.delegate&&A.delegate!==this?A.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,i){return A.delegate&&A.delegate!==this?A.delegate.schedule(t,e,i):super.schedule(t,e,i)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let i;this.active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const O=new A(class extends C{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,n=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(n,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(n,this.id,e),this}requestAsyncId(t,e,i=0){return setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let i,n=!1;try{this.work(t)}catch(r){n=!0,i=!!r&&r||new Error(r)}if(n)return this.unsubscribe(),i}_unsubscribe(){const t=this.id,e=this.scheduler,i=e.actions,n=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&i.splice(n,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}});class k{constructor(t,e){this.period=t,this.scheduler=e}call(t,e){return e.subscribe(new D(t,this.period,this.scheduler))}}class D extends b.L{constructor(t,e,i){super(t),this.period=e,this.scheduler=i,this.hasValue=!1,this.add(i.schedule(q,e,{subscriber:this,period:e}))}_next(t){this.lastValue=t,this.hasValue=!0}notifyNext(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))}}function q(t){let{subscriber:e,period:i}=t;e.notifyNext(),this.schedule(t,i)}function U(t,e,i,n){const r=window&&!!window.document&&window.document.documentElement;let o=r&&e?window:i;if(t&&(o=t&&r&&"string"==typeof t?function(t,e,i){return(i?window.document:e).querySelector(t)}(t,i.nativeElement,n):t,!o))throw new Error("ngx-infinite-scroll {resolveContainerElement()}: selector for");return o}function H(t){return t&&!t.firstChange}const M={clientHeight:"clientHeight",offsetHeight:"offsetHeight",scrollHeight:"scrollHeight",pageYOffset:"pageYOffset",offsetTop:"offsetTop",scrollTop:"scrollTop",top:"top"},P={clientHeight:"clientWidth",offsetHeight:"offsetWidth",scrollHeight:"scrollWidth",pageYOffset:"pageXOffset",offsetTop:"offsetLeft",scrollTop:"scrollLeft",top:"left"};class L{constructor(t=!0){this.vertical=t,this.propsMap=t?M:P}clientHeightKey(){return this.propsMap.clientHeight}offsetHeightKey(){return this.propsMap.offsetHeight}scrollHeightKey(){return this.propsMap.scrollHeight}pageYOffsetKey(){return this.propsMap.pageYOffset}offsetTopKey(){return this.propsMap.offsetTop}scrollTopKey(){return this.propsMap.scrollTop}topKey(){return this.propsMap.top}}function E(t){return["Window","global"].some(e=>Object.prototype.toString.call(t).includes(e))}function K(t,e){return t?e.document.documentElement:null}function z(t,e){const i=function({container:t,isWindow:e,axis:i}){const{offsetHeightKey:n,clientHeightKey:r}=I(i);return W(t,e,n,r)}(e);return e.isWindow?function(t,e,i){const{axis:n,container:r,isWindow:o}=i,{offsetHeightKey:s,clientHeightKey:l}=I(n),c=t+j(K(o,r),n,o),a=W(e.nativeElement,o,s,l);return{height:t,scrolled:c,totalToScroll:function(t,e,i){const n=e.topKey();if(t.getBoundingClientRect)return t.getBoundingClientRect()[n]+j(t,e,i)}(e.nativeElement,n,o)+a,isWindow:o}}(i,t,e):function(t,e,i){const{axis:n,container:r}=i;return{height:t,scrolled:r[n.scrollTopKey()],totalToScroll:r[n.scrollHeightKey()],isWindow:!1}}(i,0,e)}function I(t){return{offsetHeightKey:t.offsetHeightKey(),clientHeightKey:t.clientHeightKey()}}function W(t,e,i,n){if(isNaN(t[i])){const i=K(e,t);return i?i[n]:0}return t[i]}function j(t,e,i){const n=e.pageYOffsetKey(),r=e.scrollTopKey(),o=e.offsetTopKey();return isNaN(window.pageYOffset)?K(i,t)[r]:t.ownerDocument?t.ownerDocument.defaultView[n]:t[o]}function N(t,e,i){let n,r;if(t.totalToScroll<=0)return!1;const o=t.isWindow?t.scrolled:t.height+t.scrolled;return i?(n=(t.totalToScroll-o)/t.totalToScroll,r=e.down/10):(n=t.scrolled/(t.scrolled+(t.totalToScroll-o)),r=e.up/10),n<=r}class Y{constructor({totalToScroll:t}){this.lastScrollPosition=0,this.lastTotalToScroll=0,this.totalToScroll=0,this.triggered={down:0,up:0},this.totalToScroll=t}updateScrollPosition(t){return this.lastScrollPosition=t}updateTotalToScroll(t){this.lastTotalToScroll!==t&&(this.lastTotalToScroll=this.totalToScroll,this.totalToScroll=t)}updateScroll(t,e){this.updateScrollPosition(t),this.updateTotalToScroll(e)}updateTriggeredFlag(t,e){e?this.triggered.down=t:this.triggered.up=t}isTriggeredScroll(t,e){return e?this.triggered.down===t:this.triggered.up===t}}const R="[NGX_ISE] DOWN",V="[NGX_ISE] UP";function B(t){const{scrollDown:e,stats:{scrolled:i}}=t;return{type:e?R:V,payload:{currentScrollPosition:i}}}let J=(()=>{class t{constructor(t,e){this.element=t,this.zone=e,this.scrolled=new o.vpe,this.scrolledUp=new o.vpe,this.infiniteScrollDistance=2,this.infiniteScrollUpDistance=1.5,this.infiniteScrollThrottle=150,this.infiniteScrollDisabled=!1,this.infiniteScrollContainer=null,this.scrollWindow=!0,this.immediateCheck=!1,this.horizontal=!1,this.alwaysCallback=!1,this.fromRoot=!1}ngAfterViewInit(){this.infiniteScrollDisabled||this.setup()}ngOnChanges({infiniteScrollContainer:t,infiniteScrollDisabled:e,infiniteScrollDistance:i}){const n=H(t),r=H(e),o=H(i),s=!r&&!this.infiniteScrollDisabled||r&&!e.currentValue||o;(n||r||o)&&(this.destroyScroller(),s&&this.setup())}setup(){"undefined"!=typeof window&&this.zone.runOutsideAngular(()=>{this.disposeScroller=function(t){const{scrollContainer:e,scrollWindow:i,element:n,fromRoot:r}=t,o=function({windowElement:t,axis:e}){return function(t,e){const i=t.isWindow||e&&!e.nativeElement?e:e.nativeElement;return Object.assign(Object.assign({},t),{container:i})}({axis:e,isWindow:E(t)},t)}({axis:new L(!t.horizontal),windowElement:U(e,i,n,r)}),s=new Y({totalToScroll:z(n,o)}),l={up:t.upDistance,down:t.downDistance};return function(t){let e=y(t.container,"scroll");return t.throttle&&(e=e.pipe(function(t,e=O){return i=>i.lift(new k(t,e))}(t.throttle))),e}({container:o.container,throttle:t.throttle}).pipe((0,T.zg)(()=>(0,p.of)(z(n,o))),(0,w.U)(t=>function(t,e,i){const{scrollDown:n,fire:r}=function(t,e,i){const n=function(t,e){return t<e.scrolled}(t,e);return{fire:N(e,i,n),scrollDown:n}}(t,e,i);return{scrollDown:n,fire:r,stats:e}}(s.lastScrollPosition,t,l)),(0,v.b)(({stats:t})=>s.updateScroll(t.scrolled,t.totalToScroll)),(0,x.h)(({fire:e,scrollDown:i,stats:{totalToScroll:n}})=>function(t,e,i){return!(!t||!e)||!(i||!e)}(t.alwaysCallback,e,s.isTriggeredScroll(n,i))),(0,v.b)(({scrollDown:t,stats:{totalToScroll:e}})=>{s.updateTriggeredFlag(e,t)}),(0,w.U)(B))}({fromRoot:this.fromRoot,alwaysCallback:this.alwaysCallback,disable:this.infiniteScrollDisabled,downDistance:this.infiniteScrollDistance,element:this.element,horizontal:this.horizontal,scrollContainer:this.infiniteScrollContainer,scrollWindow:this.scrollWindow,throttle:this.infiniteScrollThrottle,upDistance:this.infiniteScrollUpDistance}).subscribe(t=>this.zone.run(()=>this.handleOnScroll(t)))})}handleOnScroll({type:t,payload:e}){switch(t){case R:return this.scrolled.emit(e);case V:return this.scrolledUp.emit(e);default:return}}ngOnDestroy(){this.destroyScroller()}destroyScroller(){this.disposeScroller&&this.disposeScroller.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.R0b))},t.\u0275dir=o.lG2({type:t,selectors:[["","infiniteScroll",""],["","infinite-scroll",""],["","data-infinite-scroll",""]],inputs:{infiniteScrollDistance:"infiniteScrollDistance",infiniteScrollUpDistance:"infiniteScrollUpDistance",infiniteScrollThrottle:"infiniteScrollThrottle",infiniteScrollDisabled:"infiniteScrollDisabled",infiniteScrollContainer:"infiniteScrollContainer",scrollWindow:"scrollWindow",immediateCheck:"immediateCheck",horizontal:"horizontal",alwaysCallback:"alwaysCallback",fromRoot:"fromRoot"},outputs:{scrolled:"scrolled",scrolledUp:"scrolledUp"},features:[o.TTD]}),t})(),X=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[],imports:[[]]}),t})();function F(t,e){if(1&t&&(o.TgZ(0,"div",5),o.TgZ(1,"div",6),o._UZ(2,"img",7),o.TgZ(3,"div",8),o.TgZ(4,"h5",9),o._uU(5),o.qZA(),o.TgZ(6,"p",10),o.TgZ(7,"span"),o._uU(8,"Species: "),o.qZA(),o._uU(9),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&t){const t=e.$implicit;o.xp6(1),o.MGl("routerLink","/detail/",t.id,""),o.xp6(1),o.Q6J("src",t.image,o.LSH),o.xp6(3),o.Oqu(t.name),o.xp6(4),o.Oqu(t.species)}}let G=(()=>{class t{constructor(t){this.service=t,this.page=1,this.characteres=[]}ngOnInit(){this.getCharacters()}getCharacters(){var t=this;return a(function*(){let e=yield t.service.getCharacters(t.page).toPromise();t.characteres.push(...e.results)})()}onScroll(){var t=this;return a(function*(){console.log("lo llama"),t.page=t.page+1,yield t.getCharacters()})()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(d))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-charactere"]],decls:7,vars:3,consts:[[1,"text-center"],["src","assets/img/rick_morty.png","routerLink","/",1,"back"],["routerLink","/all",1,"title"],["infiniteScroll","",1,"row",3,"infiniteScrollDistance","infiniteScrollThrottle","scrolled"],["class","col-md-3 mt-3",4,"ngFor","ngForOf"],[1,"col-md-3","mt-3"],[1,"card","shadow",3,"routerLink"],["alt","...",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-text"]],template:function(t,e){1&t&&(o.TgZ(0,"div",0),o._UZ(1,"img",1),o.qZA(),o.TgZ(2,"div",0),o.TgZ(3,"p",2),o._uU(4,"S\xe1cales el dedo Morty, les dije que significa que hay paz entre los mundos"),o.qZA(),o.qZA(),o.TgZ(5,"div",3),o.NdJ("scrolled",function(){return e.onScroll()}),o.YNc(6,F,10,4,"div",4),o.qZA()),2&t&&(o.xp6(5),o.Q6J("infiniteScrollDistance",2)("infiniteScrollThrottle",500),o.xp6(1),o.Q6J("ngForOf",e.characteres))},directives:[r.rH,J,n.sg],styles:[".card[_ngcontent-%COMP%]{background:#83c046!important;border:1px solid #83c046!important;box-shadow:0 0 10px 1px #83c046!important}.card[_ngcontent-%COMP%]:hover{box-shadow:0 0 20px 1px #83c046!important}.card-title[_ngcontent-%COMP%]{color:#bddfb5!important}.card-text[_ngcontent-%COMP%]{color:#fff!important}.title[_ngcontent-%COMP%]{font-family:Creepster;color:#12b0c9!important;text-shadow:-1px -1px 0 #fcfcfc;font-size:40px}.back[_ngcontent-%COMP%]{width:70%;cursor:pointer}"]}),t})();class ${constructor(){this.name="",this.url=""}}class Q{constructor(){this.name="",this.url=""}}class tt{constructor(){this.id=0,this.name="",this.status="",this.species="",this.type="",this.gender="",this.origin=new $,this.location=new Q,this.image="",this.episode=[],this.url="",this.created=new Date}}function et(t,e){if(1&t&&(o.TgZ(0,"p",10),o._uU(1),o.qZA()),2&t){const t=o.oxw();o.xp6(1),o.hij("Tipo: ",t.resultCharacter.type,"")}}const it=[{path:"",component:l},{path:"all",component:G},{path:"detail/:id",component:(()=>{class t{constructor(t,e){this.route=t,this.rickService=e,this.resultCharacter=new tt}ngOnInit(){this.viewDetail()}viewDetail(){var t=this;this.route.params.subscribe(function(){var e=a(function*(e){e.id&&(t.resultCharacter=yield t.rickService.getCharacter(e.id).toPromise())});return function(t){return e.apply(this,arguments)}}())}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(r.gz),o.Y36(d))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-detail-character"]],decls:25,vars:7,consts:[[1,"row","topCard"],[1,"text-center","title"],[1,"col-md-12"],[1,"card","shadow"],[1,"card-body"],[1,"row"],[1,"col-md-6"],[1,"text-center"],["alt","",1,"avatar",3,"src"],[1,"col-md-6","text-info"],[1,"card-text"],["class","card-text",4,"ngIf"],["routerLink","/all",1,"text-center","return"]],template:function(t,e){1&t&&(o.TgZ(0,"div",0),o.TgZ(1,"h3",1),o._uU(2,"Detalle Personaje"),o.qZA(),o.TgZ(3,"div",2),o.TgZ(4,"div",3),o.TgZ(5,"div",4),o.TgZ(6,"div",5),o.TgZ(7,"div",6),o.TgZ(8,"div",7),o._UZ(9,"img",8),o.qZA(),o.qZA(),o.TgZ(10,"div",9),o.TgZ(11,"p",10),o._uU(12),o.qZA(),o.TgZ(13,"p",10),o._uU(14),o.qZA(),o.TgZ(15,"p",10),o._uU(16),o.qZA(),o.YNc(17,et,2,1,"p",11),o.TgZ(18,"p",10),o._uU(19),o.qZA(),o.TgZ(20,"p",10),o._uU(21),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(22,"br"),o.TgZ(23,"p",12),o._uU(24," <- regresar"),o.qZA()),2&t&&(o.xp6(9),o.s9C("src",e.resultCharacter.image,o.LSH),o.xp6(3),o.hij("Nombre: ",e.resultCharacter.name,""),o.xp6(2),o.hij("Estado: ",e.resultCharacter.status,""),o.xp6(2),o.hij("Especie: ",e.resultCharacter.species,""),o.xp6(1),o.Q6J("ngIf",e.resultCharacter.type),o.xp6(2),o.hij("Origen: ",e.resultCharacter.origin.name,""),o.xp6(2),o.hij("Locaci\xf3n: ",e.resultCharacter.location.name,""))},directives:[n.O5,r.rH],styles:[".topCard[_ngcontent-%COMP%]{margin-top:100px}.avatar[_ngcontent-%COMP%]{border-radius:1000px;width:50%}.card[_ngcontent-%COMP%]{background:#83c04600!important;border:1px solid #83c046!important;box-shadow:0 0 10px 1px #83c046!important;padding:20px}.title[_ngcontent-%COMP%]{font-size:40px;font-weight:700;color:#d9f8d2!important;margin-bottom:30px}.text-info[_ngcontent-%COMP%]{color:#bddfb5!important;font-size:30px;margin-top:10px}.return[_ngcontent-%COMP%]{color:#d9f8d2!important;cursor:pointer}"]}),t})()}];let nt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[r.Bz.forChild(it)],r.Bz]}),t})(),rt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[n.ez,nt,X]]}),t})()}}]);